# 开发中遇到的问题

# 2020-01-07 及之前
1. Spring Boot 2.2.2-release与tk.mapper 1.2.3存在兼容问题，将tk.mapper改为2.1.5后解决。
2. Spring Boot 2.2.2-release与dubbo 2.6.0存在兼容问题.为了后续项目的开发，将Spring Boot的版本改为1.5.21-release。tk.mapper也改回1.2.3版本。
3. 使用dubbo后，想要收到心跳的话，就需要将service的实现类(XXXServiceImpl)中的@Service注解，改为dubbo包中的@Service注解。
4. bean中的类都要实现Serializable接口。
5. 在前端获取后端传回的JSON数据时，遇到了跨域的问题(前端发出的请求头中没有解决跨域访问的问题)，在对应的controller类加上@CrossOrigin注解就能解决。

# 2020-01-12
6. 在创建并测试文件上传类的时候遇到了**Public Key Retrieval is not allowed**错误。查资料可知在MySQL 8.0及之后的版本中，如果用户使用了 sha256_password 认证，密码在传输过程中必须使用 TLS 协议保护，但是如果 RSA 公钥不可用，可以使用服务器提供的公钥；可以在连接中通过 ServerRSAPublicKeyFile 指定服务器的 RSA 公钥，或者AllowPublicKeyRetrieval=True参数以允许客户端从服务器获取公钥；但是需要注意的是 AllowPublicKeyRetrieval=True可能会导致恶意的代理通过中间人攻击(MITM)获取到明文密码，所以默认是关闭的，必须显式开启。
7. nginx的启动命令：/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf。