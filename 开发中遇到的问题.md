# 开发中遇到的问题

# 2020-01-07 及之前
1. Spring Boot 2.2.2-release与tk.mapper 1.2.3存在兼容问题，将tk.mapper改为2.1.5后解决。
2. Spring Boot 2.2.2-release与dubbo 2.6.0存在兼容问题.为了后续项目的开发，将Spring Boot的版本改为1.5.21-release。tk.mapper也改回1.2.3版本。
3. 使用dubbo后，想要收到心跳的话，就需要将service的实现类(XXXServiceImpl)中的@Service注解，改为dubbo包中的@Service注解。
4. bean中的类都要实现Serializable接口。
5. 在前端获取后端传回的JSON数据时，遇到了跨域的问题(前端发出的请求头中没有解决跨域访问的问题)，在对应的controller类加上@CrossOrigin注解就能解决。

# 2020-01-12
1. 在创建并测试文件上传类的时候遇到了**Public Key Retrieval is not allowed**错误。查资料可知在MySQL 8.0及之后的版本中，如果用户使用了 sha256_password 认证，密码在传输过程中必须使用 TLS 协议保护，但是如果 RSA 公钥不可用，可以使用服务器提供的公钥；可以在连接中通过 ServerRSAPublicKeyFile 指定服务器的 RSA 公钥，或者AllowPublicKeyRetrieval=True参数以允许客户端从服务器获取公钥；但是需要注意的是 AllowPublicKeyRetrieval=True可能会导致恶意的代理通过中间人攻击(MITM)获取到明文密码，所以默认是关闭的，必须显式开启。
2. nginx的启动命令：/usr/local/nginx/sbin/nginx -c /usr/local/nginx/conf/nginx.conf。


# 2020-01-14
1. 项目在启动的时候会比较慢(可能是连接dubbo的速度慢？)，所以要等项目完全启动后才测试功能。
2. 在Linux中配置程序自动启动时要先修改启动脚本的权限：chmod 777 启动脚本的全名
   然后将其交给chkconfig管理：chkconfig --add 启动脚本(可选命令还有--del)
   最后开启脚本的开机自运行：chkconfig 启动脚本 on
3. 最新版的idea只能创建SpringBoot 2.X的项目，而开发使用的时SpringBoot 1.X的框架。从2.X改为1.X的时候，有很多地方发生了变化，其中测试类中2.X相比1.X少了**@RunWith(SpringRunner.class)**， 以及类和方法都少了public修饰符，需要手动加上。
4. 在测试Redis连接时，出现了“拒绝连接”的提示，需要在配置文件中去掉“bind 127.0.0.1”。 
5. 远程连接Redis的时候，需要在配置文件中关闭保护模式，这样才能连接上。同时要将Redis设置为在前台运行，遇到错误才会显示。

# 2020-01-17
1. 在windows 10下启动nginx失败，原因是80端口被占用，关闭相应进程后依旧不能启动，所以更改nginx的配置文件，把端口号改为8088就能正常启动了。

# 2020-01-18
1. 在centos 6.5下安装elasticsearch 6需要配置的内容与centos 7下的略有不同。需要参考该文章修改：https://blog.csdn.net/weixin_42765596/article/details/100979579
2. 在外网访问本机的tomcat时，需要关闭防火墙。

# 2020-01-20
1. 在elasticsearch中部署了集群后，若想只是用某个或某些节点时，必须将不启用的节点从elasticsearch的配置文件中注释掉，并重启elasticsearch和kibana。
2. 在使用@Reference注解时，导错了包，使得SkuService无法获得实例。

# 2020-01-03
1. 在添加新的SPU和SKU时，如果未添加/选择平台属性，程序就会报错。
2.